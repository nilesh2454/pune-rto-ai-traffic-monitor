<div [id]="id" class="challan-slip max-w-lg mx-auto bg-white" style="min-height: auto; overflow: visible">
  <div class="challan-header">
    <div class="flex items-center justify-center gap-3 mb-2">
      <lucide-icon name="shield" class="w-10 h-10 text-white"></lucide-icon>
      <div class="text-center">
        <h1 class="text-xl font-bold">PUNE RTO</h1>
        <p class="text-sm text-white/80">Regional Transport Office</p>
      </div>
    </div>
    <div class="text-center">
      <h2 class="text-lg font-semibold border-t border-white/30 pt-2 mt-2">
        Traffic Violation E-Challan
      </h2>
    </div>
  </div>

  <div class="challan-body">
    <div class="text-center p-3 bg-primary/5 rounded-lg border border-primary/20">
      <p class="text-xs text-muted-foreground">Challan ID</p>
      <p class="font-mono font-bold text-lg text-primary">{{ data.challanId }}</p>
    </div>

    <div class="space-y-1">
      <h3 class="text-sm font-semibold text-primary border-b pb-1">Vehicle Details</h3>

      <div class="challan-row">
        <span class="challan-label">Vehicle Number</span>
        <span class="challan-value font-mono-plate">{{ data.plateNumber }}</span>
      </div>

      <div class="challan-row">
        <span class="challan-label">Vehicle Type</span>
        <span class="challan-value flex items-center gap-1">
          <lucide-icon [name]="vehicleIcon" class="w-4 h-4"></lucide-icon>
          {{ data.vehicleType }}
        </span>
      </div>
    </div>

    <div class="space-y-1">
      <h3 class="text-sm font-semibold text-primary border-b pb-1">Owner Details</h3>

      <div class="challan-row">
        <span class="challan-label">Owner Name</span>
        <span class="challan-value">{{ data.ownerName }}</span>
      </div>

      <div class="challan-row">
        <span class="challan-label">Mobile Number</span>
        <span class="challan-value">{{ data.mobile }}</span>
      </div>

      <div class="challan-row">
        <span class="challan-label">Email Address</span>
        <span class="challan-value text-xs">{{ data.email }}</span>
      </div>
    </div>

    <div class="space-y-1">
      <h3 class="text-sm font-semibold text-primary border-b pb-1">Violation Details</h3>

      <div class="challan-row">
        <span class="challan-label">Violation Type(s)</span>
        <span class="challan-value text-destructive">{{ data.violations.join(', ') }}</span>
      </div>

      <div class="challan-row" *ngIf="data.speed > 0">
        <span class="challan-label">Speed Recorded</span>
        <span class="challan-value">
          <span class="text-destructive font-bold">{{ data.speed }} km/h</span>
          <span class="text-muted-foreground text-xs"> (Limit: {{ data.speedLimit }} km/h)</span>
        </span>
      </div>

      <div class="challan-row">
        <span class="challan-label flex items-center gap-1">
          <lucide-icon name="map-pin" class="w-3 h-3"></lucide-icon>
          Location
        </span>
        <span class="challan-value">{{ data.location }}</span>
      </div>

      <div class="challan-row">
        <span class="challan-label flex items-center gap-1">
          <lucide-icon name="clock" class="w-3 h-3"></lucide-icon>
          Date & Time
        </span>
        <span class="challan-value">{{ data.timestamp }}</span>
      </div>
    </div>

    <div class="p-4 bg-destructive/10 rounded-lg border border-destructive/20">
      <div class="flex items-center justify-between mb-2">
        <span class="text-sm font-semibold">Total Fine Amount</span>
        <span class="text-2xl font-bold text-destructive">
          â‚¹{{ data.fineAmount.toLocaleString('en-IN') }}
        </span>
      </div>
      <div class="flex items-center justify-between text-sm">
        <span class="text-muted-foreground">Payment Status</span>
        <span class="govt-badge govt-badge-pending">Pending</span>
      </div>
    </div>
  </div>

  <div class="challan-footer space-y-1 border-t">
    <p>This is a computer-generated challan.</p>
    <p class="font-medium">Issued by Pune Regional Transport Office</p>
    <p class="text-muted-foreground/70 mt-2">
      For queries, contact: helpdesk@punertomail.gov.in | 020-XXXXXXXX
    </p>
  </div>
</div>
